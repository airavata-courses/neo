<div class="header">
    <div class="header__data">
        <h4 class="header__head"> {{ textLines }} </h4>
    </div>
</div>

<mat-card>
    <mat-card-content class="form">
        <mat-form-field *ngIf = "stations$ | async as stations" appearance="fill" class="form__field">
            <mat-label>Station</mat-label>
            <mat-select [formControl]="stationControl" required>
                <mat-option *ngFor="let station of stations" [value]="station.key">{{station.value}}</mat-option>
            </mat-select>
            <mat-error *ngIf="stationControl.hasError('required')">
                Please choose a radar station
            </mat-error>
            <mat-hint>
                Radar Station
            </mat-hint>
        </mat-form-field>

        <mat-form-field appearance="fill" class="form__field">
            <input matInput class="form__field-date" [ngxMatDatetimePicker]="picker" placeholder="Choose a date"
                [formControl]="dateControl" [min]="minDate" [max]="maxDate">
            <mat-datepicker-toggle matSuffix [for]="$any(picker)"></mat-datepicker-toggle>
            <ngx-mat-datetime-picker #picker [showSeconds]="false" color="primary" [enableMeridian]="true">
            </ngx-mat-datetime-picker>
            <mat-error *ngIf="dateControl.hasError('required')">
                Please choose date and time
            </mat-error>
        </mat-form-field>

        <mat-form-field *ngIf = "(properties$ | async) as properties" appearance="fill" class="form__field">
            <mat-label>Property</mat-label>
            <mat-select [formControl]="propertyControl" required>
                <mat-option *ngFor="let property of properties | keyvalue" [value]="property.value">{{property.value}}</mat-option>
            </mat-select>
            <mat-error *ngIf="stationControl.hasError('required')">
                Please choose a weather property
            </mat-error>
        </mat-form-field>

        <button (click)="confirmAdd()" color="primary" id="confirm" mat-stroked-button [disabled]="hasError()">
            {{buttonText}}
        </button>
    </mat-card-content>
</mat-card>